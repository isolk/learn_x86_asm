8259芯片提供中断访问管理

有两个芯片，每个8个引脚，分为主和从。主从级联。主芯片连接CPU。

中断从引脚输入。

主芯片0引脚接定时器，从芯片0引脚接时钟芯片

每个芯片内部都有个8位寄存器，每一位的值都决定对应位引脚的中断能否达到cpu，0表示可以。

8259可编程，主芯片2个端口号为，0x20，0x21。从芯片端口号为，0xa0，0xa1

0x20，0xa0，传入要操作的端口号，0x21，0xa1操作数据。

cpu根据IF标志位来决定是否处理中断，0忽略，1处理。cli，置0。sli，置1。

cpu支持256个中断
> why?可能随便规定的。

8259提供15个中断，这15个中断有自己的默认中断号，可以改变，但没必要。

实模式下，物理内存的0x00000~0x003ff存放中断向量表。
> 中断向量表就是一系列映射，映射端口号和对应中断处理程序的偏移地址+代码段地址。

0-1字节放偏移地址，2-3放段地址。

不可屏蔽中断的中断号是2

中断向量表初始化工作由BIOS完成，默认情况下处理程序就是返回指令。

cpu收到中断时，会压栈，禁掉IF防止再次收到中断，根据中断号跳转，执行指令，跳转，恢复栈。

自己编写的中断处理程序必须最后必须调用iret指令来完成跳转和恢复栈的工作。

要编写自己的中断处理程序，只需修改端口号对应的程序地址即可。




